// Avoid `console` errors in browsers that lack a console.
(!window.console||!console.log)&&function(){var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,r=window.console={};while(n--)r[t[n]]=e}();Modernizr.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};Modernizr.transitionEnd=Modernizr.transEndEventNames[Modernizr.prefixed("transition")];Modernizr.transformNames={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};Modernizr.transform=Modernizr.transformNames[Modernizr.prefixed("transform")];(function(e){function t(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))}function n(e){return(e||"").toLowerCase()}"use strict";var r="20121120";e.fn.cycle=function(r){var i;return this.length===0&&!e.isReady?(i={s:this.selector,c:this.context},t("requeuing slideshow (dom not ready)"),e(function(){e(i.s,i.c).cycle(r)}),this):this.each(function(){var i,s,o,u,f=e(this);if(f.data("cycle.opts"))return;if(f.data("cycle-log")===!1||r&&r.log===!1||s&&s.log===!1)t=e.noop;t("--c2 init--"),i=f.data();for(var l in i)i.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(u=i[l],o=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,n),t(o+":",u,"("+typeof u+")"),i[o]=u);s=e.extend({},e.fn.cycle.defaults,i,r||{}),s.timeoutId=0,s.paused=0,s.container=f,s._maxZ=s.maxZ,s.API=e.extend({_container:f},e.fn.cycle.API),s.API.log=t,s.API.trigger=function(e,t){return s.container.trigger(e,t),s.API},f.data("cycle.opts",s),f.data("cycle.API",s.API),s.API.trigger("cycle-bootstrap",[s,s.API]),s.API.addInitialSlides(),s.API.preInitSlideshow(),s.slides.length&&s.API.initSlideshow()})},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),n=t.slides;t.slideCount=0,t.slides=e(),n=n.jquery?n:t.container.find(n),t.random&&n.sort(function(){return Math.random()-.5}),t.API.add(n)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.preInit)&&n.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.postInit)&&n.postInit(t)},initSlideshow:function(){var t=this.opts(),n=t.container;t.API.calcFirstSlide(),t.container.css("position")=="static"&&t.container.css("position","relative"),e(t.slides[t.currSlide]).css("opacity",1).show(),t.API.stackSlides(t.slides[t.currSlide],t.slides[t.nextSlide],!t.reverse),t.pauseOnHover&&(t.pauseOnHover!==!0&&(n=e(t.pauseOnHover)),n.hover(function(){t.paused=1,t.API.trigger("cycle-paused",[t])},function(){t.paused=0,t.API.trigger("cycle-resumed",[t])})),t.timeout&&(t.timeoutId=setTimeout(function(){t.API.prepareTx(!1,!t.reverse)},t.timeout+t.delay)),t._initialized=!0,t.API.updateView(),t.container.on("cycle-paused cycle-resumed",function(e){t.container[e.type==="cycle-paused"?"addClass":"removeClass"]("cycle-paused")}),t.API.trigger("cycle-initialized",[t]),t.API.postInitSlideshow()},add:function(t,n){var r=this.opts(),i=r.slideCount,s=!1,o;e(t).each(function(t){var i,s=e(this);n?r.container.prepend(s):r.container.append(s),r.slideCount++,i=r.API.buildSlideOpts(s),n?r.slides=e(s).add(r.slides):r.slides=r.slides.add(s),r.API.initSlide(i,s,--r._maxZ),s.data("cycle.opts",i),r.API.trigger("cycle-slide-added",[r,i,s])}),r.API.updateView(),s=r._preInitialized&&i<2&&r.slideCount>=1,s&&(r._initialized?r.timeout&&(o=r.slides.length,r.nextSlide=r.reverse?o-1:1):r.API.initSlideshow())},calcFirstSlide:function(){var e=this.opts(),t;t=parseInt(e.startingSlide||0,10);if(t>=e.slides.length||t<0)t=0;e.currSlide=t,e.reverse?(e.nextSlide=t-1,e.nextSlide<0&&(e.nextSlide=e.slides.length-1)):(e.nextSlide=t+1,e.nextSlide==e.slides.length&&(e.nextSlide=0))},calcNextSlide:function(){var e=this.opts(),t;e.reverse?(t=e.nextSlide-1<0,e.nextSlide=t?e.slideCount-1:e.nextSlide-1,e.currSlide=t?0:e.nextSlide+1):(t=e.nextSlide+1==e.slides.length,e.nextSlide=t?0:e.nextSlide+1,e.currSlide=t?e.slides.length-1:e.nextSlide-1)},calcTx:function(n,r){var i=n,s;return r&&i.manualFx&&(s=e.fn.cycle.transitions[i.manualFx]),s||(s=e.fn.cycle.transitions[i.fx]),s||(s=e.fn.cycle.transitions.fade,t('Transition "'+i.fx+'" not found.  Using fade.')),s},prepareTx:function(e,t){var n=this.opts(),r,i,s,o,u;if(n.slideCount<2){n.timeoutId=0;return}e&&(n.API.stopTransition(),n.busy=!1,clearTimeout(n.timeoutId),n.timeoutId=0);if(n.busy)return;if(n.timeoutId===0&&!e)return;i=n.slides[n.currSlide],s=n.slides[n.nextSlide],o=n.API.getSlideOpts(n.nextSlide),u=n.API.calcTx(o,e),n._tx=u,e&&o.manualSpeed!==undefined&&(o.speed=o.manualSpeed),n.nextSlide!=n.currSlide&&(e||!n.paused&&n.timeout)?(n.API.trigger("cycle-before",[o,i,s,t]),u.before&&u.before(o,i,s,t),r=function(){n.busy=!1,u.after&&u.after(o,i,s,t),n.API.trigger("cycle-after",[o,i,s,t]),n.API.queueTransition(o),n.API.updateView()},n.busy=!0,u.transition?u.transition(o,i,s,t,r):n.API.doTransition(o,i,s,t,r),n.API.calcNextSlide()):n.API.queueTransition(o)},doTransition:function(t,n,r,i,s){var o=t,u=e(n),f=e(r),l=function(){f.animate(o.animIn||{opacity:1},o.speed,o.easeIn||o.easing,s)};f.css(o.cssBefore||{}),u.animate(o.animOut||{},o.speed,o.easeOut||o.easing,function(){u.css(o.cssAfter||{}),o.sync||l()}),o.sync&&l()},queueTransition:function(e){var t=this.opts();if(t.nextSlide===0&&--t.loop===0){t.API.log("terminating; loop=0"),t.timeout=0,t.API.trigger("cycle-finished",[t]),t.nextSlide=t.currSlide;return}e.timeout&&(t.timeoutId=setTimeout(function(){t.API.prepareTx(!1,!t.reverse)},e.timeout))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(r){var i=this.opts(),s,o,u=r.data()||{};for(var f in u)u.hasOwnProperty(f)&&/^cycle[A-Z]+/.test(f)&&(s=u[f],o=f.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,n),t("["+(i.slideCount-1)+"]",o+":",s,"("+typeof s+")"),u[o]=s);u=e.extend({},e.fn.cycle.defaults,i,u),u.slideNum=i.slideCount;try{delete u.API,delete u.slideCount,delete u.currSlide,delete u.nextSlide,delete u.slides}catch(l){}return u},getSlideOpts:function(t){var n=this.opts();t===undefined&&(t=n.currSlide);var r=n.slides[t],i=e(r).data("cycle.opts");return e.extend({},n,i)},initSlide:function(t,n,r){var i=this.opts();n.css(t.slideCss||{}),r>0&&n.css("zIndex",r),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),n.addClass(i.slideClass)},updateView:function(){var e=this.opts();if(!e._initialized)return;var t=e.API.getSlideOpts(),n=e.slides[e.currSlide];e.slideActiveClass&&e.slides.removeClass(e.slideActiveClass).eq(e.currSlide).addClass(e.slideActiveClass),e.hideNonActive&&e.slides.filter(":not(."+e.slideActiveClass+")").hide(),e.API.trigger("cycle-update-view",[e,t,n])},getComponent:function(t){var n=this.opts(),r=n[t];return typeof r=="string"?/^\s*\>/.test(r)?n.container.find(r):e(r):r.jquery?r:e(r)},stackSlides:function(t,n,r){var i=this.opts();t||(t=i.slides[i.currSlide],n=i.slides[i.nextSlide],r=!i.reverse),e(t).css("zIndex",i.maxZ);var s,o=i.maxZ-2,u=i.slideCount;if(r){for(s=i.currSlide+1;s<u;s++)e(i.slides[s]).css("zIndex",o--);for(s=0;s<i.currSlide;s++)e(i.slides[s]).css("zIndex",o--)}else{for(s=i.currSlide-1;s>=0;s--)e(i.slides[s]).css("zIndex",o--);for(s=u-1;s>i.currSlide;s--)e(i.slides[s]).css("zIndex",o--)}e(n).css("zIndex",i.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=t,e.fn.cycle.version=function(){return"Cycle2: "+r},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,n,r){e.API.stackSlides(n,t,r),e.cssBefore={opacity:1,display:"block"}}},fade:{before:function(t,n,r,i){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,r,i),t.cssBefore=e.extend(s,{opacity:0,display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,n,r,i){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,r,i),t.cssBefore=e.extend(s,{opacity:1,display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,n,r){e.API.stackSlides(t,n,r);var i=e.container.css("overflow","hidden").width();e.cssBefore={left:r?i:-i,top:0,opacity:1,display:"block"},e.cssAfter={zIndex:e._maxZ-2},e.animIn={left:0},e.animOut={left:r?-i:i}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:undefined,manualSpeed:undefined,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})})(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{autoHeight:0}),e(document).on("cycle-initialized",function(t,n){function r(){n.container.height(n.container.width()/o)}var i=n.autoHeight,s=-1,o;i==="calc"||e.type(i)=="number"&&i>=0?(i==="calc"?n.slides.each(function(t){var n=e(this).height();n>s&&(s=n,i=t)}):i>=n.slides.length&&(i=0),n._sentinel=e(n.slides[i]).clone().removeAttr("id").css({position:"static",visibility:"hidden",display:"block"}).prependTo(n.container).removeClass().addClass("cycle-sentinel cycle-slide")):e.type(i)=="string"&&/\d+\:\d+/.test(i)&&(o=i.match(/(\d+)\:(\d+)/),o=o[1]/o[2],e(window).on("resize",r),n._autoHeightOnResize=r,setTimeout(function(){e(window).triggerHandler("resize")},15))}),e(document).on("cycle-destroyed",function(t,n){n._sentinel&&n._sentinel.remove(),n._autoHeightOnResize&&e(window).off("resize",n._autoHeightOnResize)})}(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>"}),e(document).on("cycle-update-view",function(t,n,r,i){var s;e.each(["caption","overlay"],function(){var e=this,t=r[e+"Template"],s=n.API.getComponent(e);s.length&&t?(s.html(n.API.tmpl(t,r,i)),s.show()):s.hide()})}),e(document).on("cycle-destroyed",function(t,n){var r;e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"];n[e]&&t&&(r=n.API.getComponent("caption"),r.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(n){var r,i,s,o=e.makeArray(arguments);return e.type(n)=="number"?this.cycle("goto",n):e.type(n)=="string"?this.each(function(){var u;r=n,s=e(this).data("cycle.opts");if(s===undefined){t.log('slideshow must be initialized before sending commands; "'+r+'" ignored');return}r=r=="goto"?"jump":r,i=s.API[r];if(e.isFunction(i))return u=e.makeArray(o),u.shift(),i.apply(s.API,u);t.log("unknown command: ",r)}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts(),t=e.reverse?-1:1;if(e.allowWrap===!1&&e.currSlide+t>=e.slideCount)return;e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next")},prev:function(){var e=this.opts(),t=e.reverse?1:-1;if(e.allowWrap===!1&&e.currSlide+t<0)return;e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev")},destroy:function(){var e=this.opts();clearTimeout(e.timeoutId),e.timeoutId=0,e.API.stop(),e.API.trigger("cycle-destroyed",[e]).log("cycle-destroyed"),e.container.removeData("cycle.opts")},jump:function(e){var t,n=this.opts(),r=parseInt(e,10);if(isNaN(r)||r<0||r>=n.slides.length){n.API.log("goto: invalid slide index: "+r);return}if(r==n.currSlide){n.API.log("goto: skipping, already on slide",r);return}n.nextSlide=r,clearTimeout(n.timeoutId),n.timeoutId=0,n.API.log("goto: ",r," (zero-index)"),t=n.currSlide<n.nextSlide,n.API.prepareTx(!0,t)},stop:function(){var t=this.opts(),n=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(n=e(t.pauseOnHover)),n.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},pause:function(){var e=this.opts();e.paused=!0,e.API.trigger("cycle-paused",[e]).log("cycle-paused")},resume:function(){var e=this.opts();e.paused=!1,e.API.trigger("cycle-resumed",[e]).log("cycle-resumed")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){var n=this.opts(),r,i,s=[],o=1;for(var u=0;u<n.slides.length;u++)r=n.slides[u],u==t?i=r:(s.push(r),e(r).data("cycle.opts").slideNum=o,o++);i&&(n.slides=e(s),n.slideCount--,e(i).remove(),t==n.currSlide&&n.API.advanceSlide(1),n.API.trigger("cycle-slide-removed",[n,t,i]).log("cycle-slide-removed"),n.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var n=e(this),r=n.data("cycle-cmd"),i=n.data("cycle-context")||".cycle-slideshow";e(i).cycle(r,n.data("cycle-arg"))})}(jQuery),function(e){function t(t,n){var r;if(t._hashFence){t._hashFence=!1;return}r=window.location.hash.substring(1),t.slides.each(function(i){if(e(this).data("cycle-hash")==r)return n===!0?t.startingSlide=i:(t.nextSlide=i,t.API.prepareTx(!0,!1)),!1})}"use strict",e(document).on("cycle-pre-initialize",function(n,r){t(r,!0),r._onHashChange=function(){t(r,!1)},e(window).on("hashchange",r._onHashChange)}),e(document).on("cycle-update-view",function(e,t,n){n.hash&&(t._hashFence=!0,window.location.hash=n.hash)}),e(document).on("cycle-destroyed",function(t,n){n._onHashChange&&e(window).off("hashchange",n._onHashChange)})}(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,n){function r(t,r){function s(t){var s;n.loader=="wait"?(o.push(t),u===0&&(i.apply(n.API,[o,r]),n.container.removeClass("cycle-loading"))):(s=e(n.slides[n.currSlide]),i.apply(n.API,[t,r]),s.show(),n.container.removeClass("cycle-loading"))}var o=[];t=e(t);var u=t.length;t.hide().each(function(){function t(){--l===0&&(--u,s(p))}var l=0,p=e(this),v=p.is("img")?p:p.find("img");v=v.filter(":not(.cycle-loader-ignore)");if(!v.length){--u,o.push(p);return}l=v.length,v.each(function(){this.complete?t():e(this).load(function(){t()}).error(function(){--l===0&&(n.API.log("slide skipped; img not loaded:",this.src),--u===0&&n.loader=="wait"&&i.apply(n.API,[o,r]))})})}),u&&n.container.addClass("cycle-loading")}var i;if(!n.loader)return;i=n.API.add,n.API.add=r})}(jQuery),function(e){function t(t,n,r){var i,s=t.API.getComponent("pager");s.each(function(){var s=e(this);if(n.pagerTemplate){var o=t.API.tmpl(n.pagerTemplate,n,r[0]);i=e(o).appendTo(s)}else i=s.children().eq(t.slideCount-1);i.on(t.pagerEvent,function(e){e.preventDefault(),t.API.page(s,e.currentTarget)})})}function n(e,t){var n=this.opts(),r=e.children().index(t),i=r,s=n.currSlide<i;if(n.currSlide==i)return;n.nextSlide=i,n.API.prepareTx(!0,s),n.API.trigger("cycle-pager-activated",[n,e,t])}"use strict",e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,n,r){r.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,r,i){t.pager&&(t.API.buildPagerLink(t,r,i),t.API.page=n)}),e(document).on("cycle-slide-removed",function(t,n,r,i){if(n.pager){var s=n.API.getComponent("pager");s.each(function(){var t=e(this);e(t.children()[r]).remove()})}}),e(document).on("cycle-update-view",function(t,n,r){var i;n.pager&&(i=n.API.getComponent("pager"),i.each(function(){e(this).children().removeClass(n.pagerActiveClass).eq(n.currSlide).addClass(n.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var n;t.pager&&t.pagerTemplate&&(n=t.API.getComponent("pager"),n.empty())})}(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){t.API.getComponent("next").off(t.nextEvent).on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").off(t.prevEvent).on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()});if(t.swipe){var n=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",r=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(n,function(e){t.API.next()}),t.container.on(r,function(){t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t,n,r){if(t.allowWrap)return;var i=t.disabledClass,s=t.API.getComponent("next"),o=t.API.getComponent("prev"),u=t._prevBoundry||0,a=t._nextBoundry||t.slideCount-1;t.currSlide==a?s.addClass(i).prop("disabled",!0):s.removeClass(i).prop("disabled",!1),t.currSlide===u?o.addClass(i).prop("disabled",!0):o.removeClass(i).prop("disabled",!1)}),e(document).on("cycle-destroyed",function(t,n){e(n.next).off(n.nextEvent),e(n.prev).off(n.prevEvent),n.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,n){if(!n.progressive)return;var r=n.API,i=r.next,s=r.prev,o=r.prepareTx,u,f=e.type(n.progressive);if(f=="array")u=n.progressive;else if(e.isFunction(n.progressive))u=n.progressive(n);else if(f=="string"){u=e(n.progressive).html();if(!e.trim(u))return;try{u=e.parseJSON(u)}catch(l){r.log("error parsing progressive slides",l);return}}o&&(r.prepareTx=function(e,t){var r,i;if(e||u.length===0){o.apply(n.API,[e,t]);return}t&&n.currSlide==n.slideCount-1?(i=u[0],u=u.slice(1),n.container.one("cycle-slide-added",function(e,t){t.API.advanceSlide(1)}),n.API.add(i)):!t&&n.currSlide===0?(r=u.length-1,i=u[r],u=u.slice(0,r),n.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1)}),n.API.add(i,!0)):o.apply(n.API,[e,t])}),i&&(r.next=function(){var e=this.opts();if(u.length&&e.currSlide==e.slideCount-1){var t=u[0];u=u.slice(1),e.container.one("cycle-slide-added",function(e,t){i.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else i.apply(e.API)}),s&&(r.prev=function(){var e=this.opts();if(u.length&&e.currSlide===0){var t=u.length-1,n=u[t];u=u.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(n,!0)}else s.apply(e.API)})})}(jQuery),function(e){"use strict",e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,n,r){var i=new RegExp(n.tmplRegex,"g");if(t&&n)return t.replace(i,function(t,i){var s,o,u=n,f=i.split(".");if(f.length>1){o=n;for(s=0;s<f.length;s++)u=o,o=o[f[s]]||i}else o=n[i];return e.isFunction(o)?o.call(u,n):o!==undefined&&o!==null?o:r&&r[i]!==undefined?r[i]:i})}})}(jQuery);(function(e){"use strict",e(document).on("cycle-bootstrap",function(e,t,n){if(t.fx!=="carousel")return;n.getSlideIndex=function(e){var t=this.opts()._carouselWrap.children(),n=t.index(e);return n%t.length},n.next=function(){var e=t.reverse?-1:1;if(t.allowWrap===!1&&t.currSlide+e>t.slideCount-t.carouselVisible)return;t.API.advanceSlide(e),t.API.trigger("cycle-next",[t]).log("cycle-next")}}),e.fn.cycle.transitions.carousel={preInit:function(t){t.hideNonActive=!1,t.container.on("cycle-destroyed",e.proxy(this.onDestroy,t.API)),t.API.stopTransition=this.stopTransition;for(var n=0;n<t.startingSlide;n++)t.container.append(t.slides[0])},postInit:function(t){var n,r,i=t.carouselVertical;t.carouselVisible&&t.carouselVisible>t.slideCount&&(t.carouselVisible=t.slideCount-1);var s=t.carouselVisible||t.slides.length,o={display:i?"block":"inline-block",position:"static"};t.container.css({position:"relative",overflow:"hidden"}),t.slides.css(o),t._currSlide=t.currSlide,r=e('<div class="cycle-carousel-wrap"></div').prependTo(t.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(t.slides),t._carouselWrap=r,i||r.css("white-space","nowrap"),t.allowWrap!==!1&&(t.slides.slice(0,t.slideCount).clone().css(o).appendTo(r),t.carouselVisible===undefined&&t.slides.slice(0,t.slideCount).clone().css(o).appendTo(r),t.slides.slice(0,t.slideCount).clone().css(o).prependTo(r),t.carouselVisible===undefined&&t.slides.slice(0,t.slideCount).clone().css(o).prependTo(r)),t.pager&&t.allowWrap===!1&&(n=t.slideCount-s,e(t.pager).children().filter(":gt("+n+")").hide()),t._nextBoundry=t.slideCount-t.carouselVisible,this.prepareDimensions(t)},prepareDimensions:function(t){var n,r,i,s,o=t.carouselVertical,u=t.carouselVisible||t.slides.length;t.carouselFluid&&t.carouselVisible?t._carouselResizeThrottle||this.fluidSlides(t):t.carouselVisible&&t.carouselSlideDimension?(n=u*t.carouselSlideDimension,t.container[o?"height":"width"](n)):t.carouselVisible&&(n=u*e(t.slides[0])[o?"outerHeight":"outerWidth"](!0),t.container[o?"height":"width"](n)),r=t.carouselOffset||0;if(t.allowWrap!==!1)if(t.carouselSlideDimension)r-=(t.slideCount+t.currSlide)*t.carouselSlideDimension;else{s=t._carouselWrap.children();for(var f=0;f<t.slideCount+t.currSlide;f++)r-=e(s[f])[o?"outerHeight":"outerWidth"](!0)}t._carouselWrap.css(o?"top":"left",r)},fluidSlides:function(t){function n(){clearTimeout(i),i=setTimeout(r,20)}function r(){t._carouselWrap.stop(!1,!0);var e=t.container.width()/t.carouselVisible;e=Math.ceil(e-o),t._carouselWrap.children().width(e),t._sentinel&&t._sentinel.width(e),u(t)}var i,s=t.slides.eq(0),o=s.outerWidth()-s.width(),u=this.prepareDimensions;e(window).on("resize",n),t._carouselResizeThrottle=n,r()},transition:function(e,t,n,r,i){var s,o={},u=e.nextSlide-e.currSlide,a=e.carouselVertical;if(e.allowWrap===!1){r=u>0;var f=e._currSlide,l=e.slideCount-e.carouselVisible;u>0&&e.nextSlide>l&&f==l?u=0:u>0&&e.nextSlide>l?u=e.nextSlide-f-(e.nextSlide-l):u<0&&e.currSlide>l&&e.nextSlide>l?u=0:u<0&&e.currSlide>l?u+=e.currSlide-l:f=e.currSlide,s=this.getScroll(e,a,f,u),e.API.opts()._currSlide=e.nextSlide>l?l:e.nextSlide}else r&&e.nextSlide===0?(s=this.getDim(e,e.currSlide,a),i=this.genCallback(e,r,a,i)):!r&&e.nextSlide==e.slideCount-1?(s=this.getDim(e,e.currSlide,a),i=this.genCallback(e,r,a,i)):s=this.getScroll(e,a,e.currSlide,u);o[a?"top":"left"]=r?"-="+s:"+="+s,e._carouselWrap.animate(o,e.speed,e.easing,i)},getDim:function(t,n,r){var i=e(t.slides[n]);return i[r?"outerHeight":"outerWidth"](!0)},getScroll:function(e,t,n,r){var i,s=0;if(r>0)for(i=n;i<n+r;i++)s+=this.getDim(e,i,t);else for(i=n;i>n+r;i--)s+=this.getDim(e,i,t);return s},genCallback:function(t,n,r,i){return function(){var n=e(t.slides[t.nextSlide]).position(),s=0-n[r?"top":"left"]-(t.carouselOffset||0);t._carouselWrap.css(t.carouselVertical?"top":"left",s),i()}},stopTransition:function(){var e=this.opts();e.slides.stop(!1,!0),e._carouselWrap.stop(!1,!0)},onDestroy:function(t){var n=this.opts();n._carouselResizeThrottle&&e(window).off("resize",n._carouselResizeThrottle),n.slides.prependTo(n.container),n._carouselWrap.remove()}}})(jQuery);var App={};(function(){"use strict";var e=function(e){$("#posting-content").fadeTo("fast",0,function(){$.ajax({type:"GET",url:e,datatype:"xml",context:document.getElementById("posting-content")}).fail(function(){window.alert("error")}).done(function(e){var t=$(this);t.html("");var n=$(e).children("job"),r=n.children("position").text().trim(),i=n.children("description").text().trim();$("<h2></h2>").html(r).appendTo(t);$("<div />",{"class":"description"}).html(i).appendTo(t);var s=n.find("related"),o=$("#related-jobs").html("");s.find("job").each(function(){var e=$(this),t=e.find("position").text().trim(),n=e.find("permalink").text().trim();n="#"+n;$("<a />",{href:n}).html(t).appendTo(o)});$("#job_title").val(r);var u="mailto:hello@ginlanemedia.com?subject="+r+"&body=Link to Portfolio/Resume (if applicable):%0A%0AIntroduce yourself! What do you want us to know?";$("#apply_now").attr("href",u)}).always(function(){$(this).fadeTo("fast",1)})})},t=function(){var t=window.location.hash,n=$("h2","#posting-content").data("permalink"),r=0;if(t.substring(0,6)==="#/job/"){var i=t.substring(1);r=$("#jobs").offset().top;$("html, body").animate({scrollTop:r},500,e(i))}else n!==undefined&&e(n)};App.media=function(){return window.getComputedStyle?window.getComputedStyle(document.body,":after").getPropertyValue("content"):"wtf"};var n=function(){var e=$("div.header-container");if(App.media()!=="mobile"&&$("#intro").length>0){var t=e.outerHeight(),n=$(window).height()-t;e.css("top",n+"px");var r;$(window).on("load scroll",function(){r=$(window).scrollTop();r>=n?e.addClass("fixed"):e.removeClass("fixed")})}else e.addClass("fixed");if($("body").data("context")!==""){var i="#object_"+$("body").data("context");$(i).addClass("current")}App.media()==="mobile"&&$("#nav-toggle").on("click",function(e){e.preventDefault();$("nav#popout").toggleClass("active");$("#main-container, footer").toggleClass("inactive")});if(App.media()==="mobile"){$("a","#main").on("click",function(){$("#main").removeClass("active");$("#main-container").removeClass("inactive")});$("a","#section-nav-top").on("click",function(){$("#section-nav-top").removeClass("active");$("#main-container").removeClass("inactive")})}var s=500;$("a","nav#popout").on("click",function(){$("div.header-container, #main-container").removeClass("inactive");$("#popout").removeClass("active")});$("a","#main").on("click",function(e){var t=$(this),n=this.hash;t.addClass("current").parent().removeClass("active");$("a.current","nav").removeClass("current");if(App.media()==="desktop"&&$(n).length>0){e.preventDefault();$("html, body").animate({scrollTop:$("#"+n.slice(1)).offset().top},s,function(){window.location.hash=n;setTimeout(function(){$(document).one("scroll",function(){$("a.current","nav").removeClass("current")})},s)})}});$("#down-arrow").on("click",function(e){e.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$("#"+t.slice(1)).offset().top},s,function(){window.location.hash=t;setTimeout(function(){$(document).one("scroll",function(){$("a.current","nav").removeClass("current")})},s)})})},r=function(){$(".employee","#employees").on("touchstart",function(e){$(this).addClass("hover")}).on("touchend",function(e){e.preventDefault();$(this).removeClass("hover")})},i=function(){if(App.media()!=="mobile"){var e=$("div.header-container"),t=e.outerHeight();$("#intro").innerHeight($(window).height()-t+"px")}else $("#intro").innerHeight($(window).height());r();var n=$("#slideshow").cycle({autoHeight:"980:650",fx:"scrollHorz",loader:"wait",log:!1,next:"#next",prev:"#prev",pager:"#pager",pauseOnHover:!0,progressive:"#slide_images",slides:"div.slide",easing:"swing",speed:600,timeout:6e3});if(Modernizr.touch){var i,s,o;n.on("touchstart",function(e){i=e.originalEvent.touches[0].pageX;s=i;o=0}).on("touchmove",function(e){s=e.originalEvent.touches[0].pageX;o=s-i;o!==0&&e.preventDefault()}).on("touchend",function(e){e.preventDefault();o<0?$("#next").trigger("click"):o===0?$("div.cycle-slide-active","#slideshow").toggleClass("hover"):o>0&&$("#prev").trigger("click")});$(".button","#slideshow").on("touchstart touchmove touchend click",function(e){e.stopPropagation()})}$(document).on("keydown",function(e){switch(e.keyCode){case 37:$("#prev").trigger("click");return!1;case 39:$("#next").trigger("click");return!1}});var u=$("#full-width-slideshow").cycle({height:"463px",hideNonActive:!1,easing:"swing",log:!1,manualSpeed:600,next:"#full-width-slideshow","pause-on-hover":!0,progressive:"#slide_images",slides:"div.slide",speed:2400,timeout:3500}).on("cycle-before",function(e,t,r,i){var s=$(i),o=s.data("src");if(s.hasClass("loading")){u.cycle("pause");$("<img />").attr("src",o).on("load",function(){var e=s.attr("style")+" background-image: url("+o+")";s.attr("style",e);s.removeClass("loading");n.cycle("resume")})}});u.cycle("pause");$(window).on("load",function(){$(".slide","#full-width-slideshow").each(function(){var e=$(this).find(".image"),t=e.data("src"),n="background-image: url("+t+")";e.attr("style",n)});u.cycle("resume")})},s=function(){$("#splash-image").innerHeight($(window).height()-$("nav#main").outerHeight()+"px");$("a","ul.jobs").on("mouseover",function(){var e=$(this);e.addClass("hover")}).on("mouseout",function(){$(this).removeClass("hover")}).on("mouseup",function(){$("ul.departments","section#positions").removeClass("active");var e=$(this).attr("href");$("#job-select").val(e)});var e=$("#slideshow").cycle({autoHeight:"980:650",fx:"scrollHorz",loader:"wait",log:!1,next:"#next",prev:"#prev",pager:"#pager",progressive:"#slide_images",slides:"div.slide",timeout:0}).on("cycle-before",function(t,n,r,i){var s=$(i);$(r).removeClass("hover");if(s.hasClass("loading")){e.cycle("pause");var o=s.find("> img"),u=o.data("src");$("<img />").attr("src",u).on("load",function(){o.attr("src",u);s.removeClass("loading");e.cycle("resume")})}});if(Modernizr.touch){var n,r,i;$("#slideshow").on("touchstart",function(e){n=e.originalEvent.touches[0].pageX;r=n;i=0}).on("touchmove",function(e){r=e.originalEvent.touches[0].pageX;i=r-n;i!==0&&e.preventDefault()}).on("touchend",function(e){e.preventDefault();i<0?$("#next").trigger("click"):i===0?$("div.cycle-slide-active","#slideshow").toggleClass("hover"):i>0&&$("#prev").trigger("click")});$(".button","#slideshow").on("touchstart touchmove touchend click",function(e){e.stopPropagation()})}$(document).on("keydown",function(e){switch(e.keyCode){case 37:$("#prev").trigger("click");return!1;case 39:$("#next").trigger("click");return!1}});$(".category","#jobs").each(function(){var e=$(this),t=e.attr("href");t!==undefined&&(t="#"+t);e.attr("href",t)});$(window).on("hashchange",t);$("form","#apply").on("submit",function(e){e.preventDefault();var t=$(this);$.ajax({type:"post",url:t.attr("action"),data:t.serialize()}).done(function(e){e.substring(0,6)==="__err="&&window.alert(e.substring(6));var n=e.substring(0,6)==="__err="?e.substring(6).text():e;t.slideUp("slow",function(){$(this).html(n).fadeIn(500)})})})},o=function(){$(".project","#projects-wrapper").on("touchstart",function(){$(this).addClass("hover")}).on("touchend",function(e){e.preventDefault();$(this).removeClass("hover")})},u=function(){if(App.media()==="desktop"){var e=$(window).height()*.8;$("#hero-image").height(e)}};$(document).on("ready",function(){var e={index:i,join:s,work:o,showcase:u},t=$("body").data("callback");n();t!==undefined&&t in e&&e[t].call();$(window).on("hashchange",function(e){$('a[href="'+window.location.hash+'"]',"#main").addClass("current")})});var a=function(){t();$("#loader").fadeOut(400,function(){$(this).remove();$("html").removeClass("loading")})},f=function(){$("html").addClass("loading")};window.onbeforeunload=f;$(window).on("load",a)})(App);
